import { computed } from 'vue';
import { router, usePage } from '@inertiajs/vue3';

const messages = {
    en: {
        dashboard: 'Dashboard',
        rounds: 'Rounds',
        teams: 'Teams',
        tournaments: 'Tournaments',
        control: 'Control',
        display: 'Display',
        timetable: 'Timetable',
        userApprovals: 'User Approvals',
        logout: 'Log Out',
        profile: 'Profile',
        startCompetition: 'Start Competition',
        endCompetition: 'End Competition',
        toBuzzerRound: 'To Buzzer Round',
        toFeverRound: 'To Fever Round',
        toUltimateFeverRound: 'To Ultimate Fever Round',
        undo: 'Undo',
        clear: 'Clear',
        roundStatus: 'Round Status',
        roundPhase: 'Current Phase',
        roundLabel: 'Round',
        scores: 'Scores',
        teamNames: 'Team Names',
        lightningRound: 'Lightning Round',
        buzzerRound: 'Buzzer Round',
        buzzerNormalRound: 'Buzzer Round (Normal)',
        buzzerFeverRound: 'Buzzer Round (Fever)',
        buzzerUltimateRound: 'Buzzer Round (Ultimate Fever)',
        confirmToBuzzerRound: 'Move to Buzzer Round (Normal)?',
        confirmToFeverRound: 'Move to Fever Round?',
        confirmToUltimateFeverRound: 'Move to Ultimate Fever Round?',
        siteTitle: 'Cambridge IUQ',
        login: 'Login',
        authLogin: 'Log in',
        register: 'Register',
        password: 'Password',
        confirmPassword: 'Confirm Password',
        rememberMe: 'Remember me',
        forgotYourPassword: 'Forgot your password?',
        forgotPassword: 'Forgot Password',
        forgotPasswordHelp: 'Forgot your password? No problem. Let us know your email address and we will send you a password reset link.',
        emailPasswordResetLink: 'Email Password Reset Link',
        resetPassword: 'Reset Password',
        confirmPasswordHelp: 'This is a secure area of the application. Please confirm your password before continuing.',
        confirm: 'Confirm',
        emailVerification: 'Email Verification',
        verifyEmailHelp: 'Thanks for signing up. Please verify your email via the link we sent. If you did not receive it, we can send another.',
        verificationLinkSent: 'A new verification link has been sent to the email address you provided during registration.',
        resendVerificationEmail: 'Resend Verification Email',
        alreadyRegistered: 'Already registered?',
        onlineCountLabel: 'Online',
        visitorsOnlineLabel: 'Visitors online',
        noOnlineUsers: 'No online users.',
        lastSeenLabel: 'Last seen',
        dashboardSignedInAs: 'Signed in as',
        acknowledgementsTitle: 'Acknowledgements',
        acknowledgementsBodyPrefix: "This website's design and features are heavily inspired by the ",
        legacySiteLabel: 'IUQ 2024-2025 scoring site',
        acknowledgementsBodySuffix: ' created by Jonathan Yan. Thanks must be given to him for his advice and guidance.',
        roleSuperAdmin: 'Superadmin',
        roleAdmin: 'Admin',
        roleViewer: 'Viewer',
        adminPendingApproval: 'Your admin account is pending superadmin approval.',
        welcomeTitle: 'Welcome to Cambridge IUQ!',
        publicDisplay: 'Public Display',
        timetableAndResults: 'Timetable & Results',
        adminLogin: 'Admin Login',
        registerAdmin: 'Register Admin',
        name: 'Name',
        status: 'Status',
        email: 'Email',
        lastOnline: 'Last Online',
        approved: 'Approved',
        actions: 'Actions',
        online: 'Online',
        yes: 'Yes',
        no: 'No',
        approve: 'Approve',
        revoke: 'Revoke',
        teamsTitle: 'Teams',
        university: 'University',
        team: 'Team',
        short: 'Short',
        icon: 'Icon',
        createTeam: 'Create Team',
        edit: 'Edit',
        archive: 'Archive',
        superadminOnly: 'Superadmin only',
        teamName: 'Team name',
        shortName: 'Short name',
        iconUrlOptional: 'Icon URL (optional)',
        iconUrlPathOptional: 'Icon URL/path (optional)',
        uploadOverridesUrl: 'Upload file will override URL if both are provided.',
        uploadOverridesUrlPath: 'Upload file will override URL/path if both are provided.',
        saveTeam: 'Save Team',
        cancel: 'Cancel',
        archiveTeamConfirm: 'Archive team "{name}"?',
        tournamentsTitle: 'Tournaments',
        tournamentName: 'Tournament name',
        year: 'Year',
        timezone: 'Timezone',
        logoUrlPath: 'Logo URL/path',
        uploadOverridesLogo: 'Upload file overrides Logo URL/path when both are provided.',
        createTournament: 'Create Tournament',
        copyRulesFrom: 'Copy rules from...',
        newTournamentName: 'New tournament name',
        newYear: 'New year',
        copiesRulesOnly: 'Always clones rules and structure.',
        cloneTournamentTeams: 'Clone tournament teams',
        cloneRoundStartTimes: 'Clone round start times',
        cloneEligibleRoundParticipants: 'Clone eligible round participants',
        cloneRulesToNewTournament: 'Clone Rules to New Tournament',
        allStatuses: 'All statuses',
        allTournaments: 'All tournaments',
        allYears: 'All years',
        apply: 'Apply',
        clearFilters: 'Clear',
        tournament: 'Tournament',
        group: 'Group',
        round: 'Round',
        phase: 'Phase',
        participants: 'Participants',
        winner: 'Winner',
        noCode: 'No code',
        noSchedule: 'No schedule',
        autoUpdatedFromOverride: 'Auto-updated from override',
        resultStale: 'Result stale',
        scoreLabel: 'Score',
        overwriteResult: 'Overwrite Result',
        noRoundsFound: 'No rounds found.',
        overwriteRoundResult: 'Overwrite Round Result',
        slot: 'Slot',
        forceApplyAutoAdvancement: 'Force apply auto-advancement (overwrite manual-locked target slots)',
        saveResult: 'Save Result',
        confirmClearRound: 'Are you sure you want to clear this round? Scores will reset and status will return to draft.',
        slot: 'Slot',
        noLogo: 'No Logo',
        scoresHidden: 'Scores Hidden',
        displayPageTitle: 'Display Page',
        timetablePageTitle: 'Timetable Page',
        upcomingRounds: 'Upcoming Rounds',
        liveRounds: 'Live Rounds',
        completedRounds: 'Completed Rounds',
        noRoundsInSection: 'No rounds in this section.',
        tbd: 'TBD',
        scheduled: 'Scheduled',
        rank: 'Rank',
        confirmRoundResult: 'Confirm Round Result',
        reviewFinalScores: 'Review and adjust final scores/rankings before ending this competition.',
        confirmAndEnd: 'Confirm & End',
        tournamentSettings: 'Tournament Settings',
        visualizeTournament: 'Visualize Tournament',
        visualizeTournamentDescription: 'Read-only bracket and flow view for this tournament.',
        backToTournamentSettings: 'Back to Tournament Settings',
        tournamentFlow: 'Tournament Flow',
        tournamentFlowDescription: 'Read-only rule flow from group/round rankings to target rounds.',
        tournamentTree: 'Tournament Tree',
        tournamentTreeDescription: 'Staged read-only graph derived from advancement rules.',
        stageLabel: 'Stage',
        eliminatedNode: 'Eliminated',
        flowTo: 'to',
        treeLegend: 'Legend',
        treeLegendGroup: 'Group ranking source node.',
        treeLegendRound: 'Round result source or target node.',
        treeLegendEliminated: 'Elimination sink (no target round).',
        treeLegendActive: 'Inactive rules are shown dimmed in node edge lists.',
        groupClusters: 'Group Clusters',
        completedRounds: 'Completed Rounds',
        standaloneBracketRounds: 'Standalone Bracket Rounds',
        standaloneBracketRoundsDescription: 'Rounds connected by advancement rules but not part of a group.',
        noStandaloneBracketRounds: 'No standalone bracket rounds.',
        friendlyOrUnlinkedRounds: 'Friendly / Unlinked Rounds',
        friendlyOrUnlinkedRoundsDescription: 'Rounds not connected by advancement rules are shown separately.',
        noUnlinkedRounds: 'No unlinked rounds.',
        saveTournament: 'Save Tournament',
        tournamentTeamsMax: 'Tournament Teams (max 24)',
        selectTeam: 'Select team',
        add: 'Add',
        remove: 'Remove',
        tournamentTeamsManageSuperadminOnly: 'Adding/removing tournament teams is superadmin only.',
        groups: 'Groups',
        groupsDescription: 'Group rounds within this tournament and maintain cumulative team scores across all rounds in each group.',
        groupName: 'Group Name',
        groupCodeOptional: 'Group Code (optional)',
        displayOrder: 'Display Order',
        displayOrderHint: 'Default is 0. Smaller numbers appear earlier in lists.',
        createGroup: 'Create Group',
        roundTemplateEditor: 'Round Template Editor',
        viewCreatedTemplates: 'View Created Templates',
        templateDescriptionPrefix: 'A template is a reusable setup for rounds. Example: teams per round =',
        templateDescriptionSuffix: 'score buttons =',
        templateName: 'Template Name',
        templateCodeOptional: 'Template Code (optional)',
        teamsPerRound: 'Teams Per Round',
        teamsPerRoundHint: 'Default is 3. This controls how many participant slots each round gets.',
        defaultScore: 'Default Score',
        defaultScoreHint: 'Default is 100 if left empty.',
        buzzerModes: 'Buzzer Modes',
        enableFever: 'Enable Fever',
        enableUltimateFever: 'Enable Ultimate Fever',
        ultimateImpliesFever: 'Ultimate Fever implies Fever.',
        lightningScoreDeltas: 'Lightning Score Deltas',
        buzzerNormalScoreDeltas: 'Buzzer (Normal) Score Deltas',
        buzzerFeverScoreDeltas: 'Buzzer (Fever) Score Deltas',
        buzzerUltimateScoreDeltas: 'Buzzer (Ultimate Fever) Score Deltas',
        createTemplate: 'Create Template',
        createRound: 'Create Round',
        createRoundDescription: 'Create a specific match/round in this tournament. If you choose a template, keep values aligned with that template.',
        roundName: 'Round Name',
        roundCodeOptional: 'Round Code (optional)',
        useTemplateOptional: 'Use Template (optional)',
        noTemplate: 'No template',
        groupOptional: 'Group (optional)',
        noGroup: 'No group',
        scheduledStartTime: 'Scheduled Start Time',
        templateSelectedModeHint: 'Template-selected mode: teams per round, score deltas, and fever settings come from the chosen template.',
        defaultTeamsPerRoundHint: 'Default is 3 participant slots for this round.',
        defaultRoundScoreHint: 'Defaults to 100 if left empty.',
        displayOrderRoundHint: 'Default is 0. Smaller numbers appear earlier in round lists.',
        publicScoreVisibility: 'Public Score Visibility',
        hideScoresOnPublic: 'Hide scores on Timetable/Display (show ???)',
        groupStandings: 'Group Standings',
        noGroupsCreatedYet: 'No groups created yet.',
        roundsInGroup: 'Rounds in group',
        deleteGroup: 'Delete Group',
        noTeamScoresYet: 'No team scores yet.',
        totalScore: 'Total Score',
        advancementRules: 'Advancement Rules',
        advancementRulesDescription: 'Configure auto-advancement from either a completed round ranking or a completed group ranking.',
        sourceType: 'Source Type',
        groupBased: 'Group-based',
        roundBased: 'Round-based',
        sourceGroup: 'Source Group',
        selectGroup: 'Select group',
        sourceRound: 'Source Round',
        selectRound: 'Select round',
        selectRoundPrompt: 'Select a round...',
        likelyRounds: 'You may be finding...',
        openRound: 'Open Round',
        sourceRank: 'Source Rank',
        action: 'Action',
        advanceToAnotherRoundSlot: 'Advance to another round slot',
        targetRound: 'Target Round',
        selectTargetRound: 'Select target round',
        targetSlot: 'Target Slot',
        grantBonusScore: 'Grant Bonus Score',
        grantBonusScoreHint: 'Optional. Applied only to the target round slot before that round goes live. Negative values are allowed.',
        priority: 'Priority',
        priorityHint: 'Lower number means earlier processing.',
        createRule: 'Create Rule',
        currentRules: 'Current Rules',
        filterSourceType: 'Filter: Source Type',
        filterAction: 'Filter: Action',
        filterActive: 'Filter: Active',
        allOption: 'All',
        activeOnly: 'Active Only',
        inactiveOnly: 'Inactive Only',
        noAdvancementRulesYet: 'No advancement rules created yet.',
        noRulesMatchFilters: 'No rules match the current filters.',
        source: 'Source',
        active: 'Active',
        delete: 'Delete',
        expand: 'Expand',
        collapse: 'Collapse',
        advancementLog: 'Advancement Log',
        advancementLogDescription: 'Tracks auto-advancement decisions, manual-lock blocks, eliminated outcomes, and stale-result marks.',
        noLogEntriesYet: 'No log entries yet.',
        time: 'Time',
        target: 'Target',
        bonus: 'Bonus',
        teamAssignmentChange: 'Team Assignment Change',
        by: 'By',
        message: 'Message',
        system: 'System',
        roundTemplatesFor: 'Round Templates for',
        close: 'Close',
        noTemplatesCreatedYet: 'No templates created yet.',
        code: 'Code',
        modes: 'Modes',
        lightningDeltas: 'Lightning Deltas',
        normalDeltas: 'Normal Deltas',
        feverDeltas: 'Fever Deltas',
        ultimateFeverDeltas: 'Ultimate Fever Deltas',
        modeNormalOnly: 'Normal only',
        modeNormalFever: 'Normal + Fever',
        modeNormalFeverUltimate: 'Normal + Fever + Ultimate',
        clickRoundToExpand: 'Click round title to expand settings and participants.',
        statusDraft: 'Draft',
        statusLive: 'Live',
        statusCompleted: 'Completed',
        phaseLightning: 'Lightning',
        phaseBuzzerNormal: 'Buzzer Normal',
        phaseBuzzerFever: 'Buzzer Fever',
        phaseBuzzerUltimateFever: 'Buzzer Ultimate Fever',
        sortOrder: 'Sort order',
        fever: 'Fever',
        ultimate: 'Ultimate',
        hidePublicScores: 'Hide Public Scores',
        saveRoundDetails: 'Save Round Details',
        deleteRound: 'Delete Round',
        roundDetailsSuperadminOnly: 'Round details are editable by superadmin only. You can still edit participant slots below.',
        lightningRoundScoreDeltaButtons: 'Lightning Round Score Delta Buttons',
        buzzerNormalScoreDeltaButtons: 'Buzzer (Normal) Score Delta Buttons',
        buzzerFeverScoreDeltaButtons: 'Buzzer (Fever) Score Delta Buttons',
        buzzerUltimateScoreDeltaButtons: 'Buzzer (Ultimate Fever) Score Delta Buttons',
        saveParticipants: 'Save Participants',
        deleteRoundTemplateConfirm: 'Delete this round template?',
        deleteGroupConfirm: 'Delete this group? Rounds in this group will become ungrouped.',
        roundCreatedSuccessfully: 'Round created successfully.',
        deleteRoundConfirm: 'Delete round "{name}"?',
        deleteAdvancementRuleConfirm: 'Delete this advancement rule?',
        unknownGroup: 'Unknown group',
        unknownRound: 'Unknown round',
        eliminate: 'Eliminate',
        advanceTo: 'Advance to',
        successful: 'Successful',
        autoAdvanced: 'Auto-Advanced',
        bonusApplied: 'Bonus Applied',
        blockedManualLock: 'Blocked (Manual Lock)',
        blockedRoundState: 'Blocked (Round State)',
        bonusIndicatorApplied: 'Bonus {bonus} applied',
        bonusIndicatorAppliedWithScore: 'Bonus {bonus} applied (start score {score})',
        bonusIndicatorBlocked: 'Bonus {bonus} blocked ({status})',
        skipped: 'Skipped',
        eliminated: 'Eliminated',
        markedStale: 'Marked Stale',
        noTeam: 'No team',
        cuhkcasLogoPlaceholder: 'CUHKCAS Logo Placeholder',
        deleteAccount: 'Delete Account',
        deleteAccountWarning: 'Once your account is deleted, all of its resources and data will be permanently deleted.',
        confirmDeleteAccount: 'Are you sure you want to delete your account?',
        confirmDeleteAccountHelp: 'Please enter your password to confirm you would like to permanently delete your account.',
        updatePassword: 'Update Password',
        updatePasswordHelp: 'Ensure your account is using a long, random password to stay secure.',
        currentPassword: 'Current Password',
        newPassword: 'New Password',
        save: 'Save',
        saved: 'Saved.',
        profileInformation: 'Profile Information',
        profileInformationHelp: "Update your account's profile information and email address.",
        emailUnverified: 'Your email address is unverified.',
        clickResendVerificationEmail: 'Click here to re-send the verification email.',
        verificationLinkSentToEmail: 'A new verification link has been sent to your email address.',
        scoreDeltaButtonsHelp: 'Score Delta Buttons: comma-separated values shown on the Control page for this phase.',
        scoreDeltaButtonsExample: 'Example',
        scoreDeltaButtonsExampleSuffix: 'creates +30, +15, and -15 buttons.',
        exampleSingleDelta: 'Example: 20',
        exampleNormalDeltas: 'Example: 20,10,-10',
        exampleFeverDeltas: 'Example: 30,15,-15',
        exampleUltimateDeltas: 'Example: 40,20,-20',
        exampleGroupA: 'e.g. Group A',
        exampleGA: 'e.g. GA',
        examplePrelimGroupMatch: 'e.g. Prelim Group Match',
        examplePrelim3t: 'e.g. PRELIM_3T',
        examplePrelimA1: 'e.g. PrelimA1',
        examplePA1: 'e.g. PA1',
    },
    zh: {
        dashboard: '控制台',
        rounds: '回合',
        teams: '隊伍',
        tournaments: '賽事',
        control: '控制頁',
        display: '展示頁',
        timetable: '時間表',
        userApprovals: '使用者審批',
        logout: '登出',
        profile: '個人資料',
        startCompetition: '開始比賽',
        endCompetition: '結束比賽',
        toBuzzerRound: '轉到搶答環節',
        toFeverRound: '轉到 Fever 環節',
        toUltimateFeverRound: '轉到 Ultimate Fever 環節',
        undo: '撤銷',
        clear: '清空',
        roundStatus: '回合狀態',
        roundPhase: '目前環節',
        roundLabel: '回合',
        scores: '分數',
        teamNames: '隊名',
        lightningRound: '必答環節',
        buzzerRound: '搶答環節',
        buzzerNormalRound: '搶答環節（普通）',
        buzzerFeverRound: '搶答環節（Fever）',
        buzzerUltimateRound: '搶答環節（Ultimate Fever）',
        confirmToBuzzerRound: '確認轉到搶答環節（普通）？',
        confirmToFeverRound: '確認轉到 Fever 環節？',
        confirmToUltimateFeverRound: '確認轉到 Ultimate Fever 環節？',
        siteTitle: 'Cambridge IUQ',
        login: '登入',
        authLogin: '登入',
        register: '註冊',
        password: '密碼',
        confirmPassword: '確認密碼',
        rememberMe: '記住我',
        forgotYourPassword: '忘記密碼？',
        forgotPassword: '忘記密碼',
        forgotPasswordHelp: '忘記密碼了嗎？請輸入你的電郵地址，我們會寄送重設密碼連結。',
        emailPasswordResetLink: '寄送重設密碼連結',
        resetPassword: '重設密碼',
        confirmPasswordHelp: '這是受保護區域，請先確認密碼再繼續。',
        confirm: '確認',
        emailVerification: '電郵驗證',
        verifyEmailHelp: '感謝註冊。請先透過我們寄出的連結驗證電郵；如未收到，我們可以再寄一次。',
        verificationLinkSent: '新的驗證連結已寄送到你註冊時提供的電郵地址。',
        resendVerificationEmail: '重新寄送驗證電郵',
        alreadyRegistered: '已註冊帳號？',
        onlineCountLabel: '在線',
        visitorsOnlineLabel: '訪客在線',
        noOnlineUsers: '目前沒有在線用戶。',
        lastSeenLabel: '最後上線',
        dashboardSignedInAs: '當前登入用戶',
        acknowledgementsTitle: '鳴謝',
        acknowledgementsBodyPrefix: '本網站的設計與功能深受 ',
        legacySiteLabel: 'IUQ 2024-2025 計分網站',
        acknowledgementsBodySuffix: '（Jonathan Yan 製作）啟發。感謝他提供建議與指導。',
        roleSuperAdmin: '超級管理員',
        roleAdmin: '管理員',
        roleViewer: '訪客',
        adminPendingApproval: '你的管理員帳戶正等待超級管理員審批。',
        welcomeTitle: '歡迎來到 Cambridge IUQ！',
        publicDisplay: '公開展示',
        timetableAndResults: '時間表與結果',
        adminLogin: '管理員登入',
        registerAdmin: '註冊管理員',
        name: '名稱',
        status: '狀態',
        email: '電郵',
        lastOnline: '最後上線',
        approved: '已批准',
        actions: '操作',
        online: '在線',
        yes: '是',
        no: '否',
        approve: '批准',
        revoke: '撤銷',
        teamsTitle: '隊伍',
        university: '大學',
        team: '隊伍',
        short: '簡稱',
        icon: '圖示',
        createTeam: '建立隊伍',
        edit: '編輯',
        archive: '封存',
        superadminOnly: '僅限超級管理員',
        teamName: '隊伍名稱',
        shortName: '簡稱',
        iconUrlOptional: '圖示 URL（可選）',
        iconUrlPathOptional: '圖示 URL/路徑（可選）',
        uploadOverridesUrl: '如同時提供，以上傳檔案為準。',
        uploadOverridesUrlPath: '如同時提供，以上傳檔案為準。',
        saveTeam: '儲存隊伍',
        cancel: '取消',
        archiveTeamConfirm: '封存隊伍「{name}」？',
        tournamentsTitle: '賽事',
        tournamentName: '賽事名稱',
        year: '年份',
        timezone: '時區',
        logoUrlPath: 'Logo URL/路徑',
        uploadOverridesLogo: '如同時提供，以上傳檔案為準。',
        createTournament: '建立賽事',
        copyRulesFrom: '從以下賽事複製規則...',
        newTournamentName: '新賽事名稱',
        newYear: '新年份',
        copiesRulesOnly: '會固定複製規則與結構。',
        cloneTournamentTeams: '複製賽事隊伍',
        cloneRoundStartTimes: '複製回合開始時間',
        cloneEligibleRoundParticipants: '複製可複製的回合參賽隊伍',
        cloneRulesToNewTournament: '複製規則到新賽事',
        allStatuses: '所有狀態',
        allTournaments: '所有賽事',
        allYears: '所有年份',
        apply: '套用',
        clearFilters: '清除',
        tournament: '賽事',
        group: '組別',
        round: '回合',
        phase: '階段',
        participants: '參賽隊伍',
        winner: '勝方',
        noCode: '無代碼',
        noSchedule: '未排程',
        autoUpdatedFromOverride: '由覆寫結果自動更新',
        resultStale: '結果已過期',
        scoreLabel: '分數',
        overwriteResult: '覆寫結果',
        noRoundsFound: '找不到回合。',
        overwriteRoundResult: '覆寫回合結果',
        slot: '槽位',
        forceApplyAutoAdvancement: '強制套用自動晉級（覆蓋手動鎖定目標槽位）',
        saveResult: '儲存結果',
        confirmClearRound: '你確定要清空此回合嗎？分數將重設，狀態將回到草稿。',
        slot: '槽位',
        noLogo: '無圖示',
        scoresHidden: '分數已隱藏',
        displayPageTitle: '展示頁',
        timetablePageTitle: '時間表頁',
        upcomingRounds: '即將進行回合',
        liveRounds: '進行中回合',
        completedRounds: '已完成回合',
        noRoundsInSection: '此分區目前沒有回合。',
        tbd: '待定',
        scheduled: '排程時間',
        rank: '名次',
        confirmRoundResult: '確認回合結果',
        reviewFinalScores: '在結束比賽前，請檢查並調整最終分數與名次。',
        confirmAndEnd: '確認並結束',
        tournamentSettings: '賽事設定',
        visualizeTournament: '視覺化賽事',
        visualizeTournamentDescription: '此賽事的唯讀晉級圖與流程檢視。',
        backToTournamentSettings: '返回賽事設定',
        tournamentFlow: '賽事流程',
        tournamentFlowDescription: '唯讀顯示由分組/回合排名到目標回合的規則流程。',
        tournamentTree: '賽事樹狀圖',
        tournamentTreeDescription: '根據晉級規則生成的分階段唯讀圖。',
        stageLabel: '階段',
        eliminatedNode: '淘汰',
        flowTo: '到',
        treeLegend: '圖例',
        treeLegendGroup: '分組排名來源節點。',
        treeLegendRound: '回合結果來源或目標節點。',
        treeLegendEliminated: '淘汰終點（沒有目標回合）。',
        treeLegendActive: '停用規則在節點邊列表中會顯示為淡化。',
        groupClusters: '分組區塊',
        completedRounds: '已完成回合',
        standaloneBracketRounds: '獨立淘汰賽回合',
        standaloneBracketRoundsDescription: '由晉級規則連接但不屬於任何分組的回合。',
        noStandaloneBracketRounds: '沒有獨立淘汰賽回合。',
        friendlyOrUnlinkedRounds: '友誼賽／未連結回合',
        friendlyOrUnlinkedRoundsDescription: '未被晉級規則連接的回合會分開顯示。',
        noUnlinkedRounds: '沒有未連結回合。',
        saveTournament: '儲存賽事',
        tournamentTeamsMax: '賽事隊伍（最多 24 隊）',
        selectTeam: '選擇隊伍',
        add: '新增',
        remove: '移除',
        tournamentTeamsManageSuperadminOnly: '只有超級管理員可新增/移除賽事隊伍。',
        groups: '分組',
        groupsDescription: '將本賽事的回合分組，並統計每組內所有回合的隊伍累積分數。',
        groupName: '組別名稱',
        groupCodeOptional: '組別代碼（可選）',
        displayOrder: '顯示順序',
        displayOrderHint: '預設為 0，數字越小越前。',
        createGroup: '建立組別',
        roundTemplateEditor: '回合模板編輯器',
        viewCreatedTemplates: '查看已建立模板',
        templateDescriptionPrefix: '模板是可重用的回合設定。例如：每回合隊伍數 =',
        templateDescriptionSuffix: '分數按鈕 =',
        templateName: '模板名稱',
        templateCodeOptional: '模板代碼（可選）',
        teamsPerRound: '每回合隊伍數',
        teamsPerRoundHint: '預設為 3，控制每回合參賽槽位數。',
        defaultScore: '預設分數',
        defaultScoreHint: '留空時預設為 100。',
        buzzerModes: '搶答模式',
        enableFever: '啟用 Fever',
        enableUltimateFever: '啟用 Ultimate Fever',
        ultimateImpliesFever: '啟用 Ultimate Fever 會同時啟用 Fever。',
        lightningScoreDeltas: '必答分數增減值',
        buzzerNormalScoreDeltas: '搶答（普通）分數增減值',
        buzzerFeverScoreDeltas: '搶答（Fever）分數增減值',
        buzzerUltimateScoreDeltas: '搶答（Ultimate Fever）分數增減值',
        createTemplate: '建立模板',
        createRound: '建立回合',
        createRoundDescription: '在本賽事建立一個回合。若選用模板，請保持設定與模板一致。',
        roundName: '回合名稱',
        roundCodeOptional: '回合代碼（可選）',
        useTemplateOptional: '使用模板（可選）',
        noTemplate: '不使用模板',
        groupOptional: '組別（可選）',
        noGroup: '不分組',
        scheduledStartTime: '預定開始時間',
        templateSelectedModeHint: '已選模板模式：每回合隊伍數、分數增減值與 Fever 設定將沿用模板。',
        defaultTeamsPerRoundHint: '此回合預設有 3 個參賽槽位。',
        defaultRoundScoreHint: '留空時預設為 100。',
        displayOrderRoundHint: '預設為 0，數字越小越前。',
        publicScoreVisibility: '公開分數可見性',
        hideScoresOnPublic: '在時間表/展示頁隱藏分數（顯示 ???）',
        groupStandings: '分組排名',
        noGroupsCreatedYet: '尚未建立任何組別。',
        roundsInGroup: '組內回合數',
        deleteGroup: '刪除組別',
        noTeamScoresYet: '尚無隊伍分數。',
        totalScore: '總分',
        advancementRules: '晉級規則',
        advancementRulesDescription: '可設定按完成回合排名或完成分組排名進行自動晉級。',
        sourceType: '來源類型',
        groupBased: '基於分組',
        roundBased: '基於回合',
        sourceGroup: '來源組別',
        selectGroup: '選擇組別',
        sourceRound: '來源回合',
        selectRound: '選擇回合',
        selectRoundPrompt: '選擇一個回合...',
        likelyRounds: '你可能要找的是...',
        openRound: '開啟回合',
        sourceRank: '來源名次',
        action: '動作',
        advanceToAnotherRoundSlot: '晉級到另一回合槽位',
        targetRound: '目標回合',
        selectTargetRound: '選擇目標回合',
        targetSlot: '目標槽位',
        grantBonusScore: '給予加成分數',
        grantBonusScoreHint: '可留空。只會在目標回合仍為草稿時套用到該槽位；可輸入負數。',
        priority: '優先級',
        priorityHint: '數字越小，越先處理。',
        createRule: '建立規則',
        currentRules: '目前規則',
        filterSourceType: '篩選：來源類型',
        filterAction: '篩選：動作',
        filterActive: '篩選：啟用狀態',
        allOption: '全部',
        activeOnly: '僅啟用',
        inactiveOnly: '僅停用',
        noAdvancementRulesYet: '尚未建立晉級規則。',
        noRulesMatchFilters: '沒有規則符合目前篩選條件。',
        source: '來源',
        active: '啟用',
        delete: '刪除',
        expand: '展開',
        collapse: '收起',
        advancementLog: '晉級日誌',
        advancementLogDescription: '記錄自動晉級、手動鎖定阻擋、淘汰結果與過期標記。',
        noLogEntriesYet: '尚無日誌紀錄。',
        time: '時間',
        target: '目標',
        bonus: '加成',
        teamAssignmentChange: '隊伍分配變更',
        by: '操作人',
        message: '訊息',
        system: '系統',
        roundTemplatesFor: '賽事模板',
        close: '關閉',
        noTemplatesCreatedYet: '尚未建立模板。',
        code: '代碼',
        modes: '模式',
        lightningDeltas: '必答增減值',
        normalDeltas: '普通增減值',
        feverDeltas: 'Fever 分數增減值',
        ultimateFeverDeltas: 'Ultimate Fever 分數增減值',
        modeNormalOnly: '僅普通',
        modeNormalFever: '普通 + Fever',
        modeNormalFeverUltimate: '普通 + Fever + Ultimate Fever',
        clickRoundToExpand: '點擊回合標題可展開設定與參賽者。',
        statusDraft: '草稿',
        statusLive: '進行中',
        statusCompleted: '已完成',
        phaseLightning: '必答',
        phaseBuzzerNormal: '搶答（普通）',
        phaseBuzzerFever: '搶答（Fever）',
        phaseBuzzerUltimateFever: '搶答（Ultimate Fever）',
        sortOrder: '排序',
        fever: 'Fever',
        ultimate: 'Ultimate Fever',
        hidePublicScores: '隱藏公開分數',
        saveRoundDetails: '儲存回合設定',
        deleteRound: '刪除回合',
        roundDetailsSuperadminOnly: '只有超級管理員可編輯回合設定。你仍可編輯下方參賽槽位。',
        lightningRoundScoreDeltaButtons: '必答分數按鈕',
        buzzerNormalScoreDeltaButtons: '搶答（普通）分數按鈕',
        buzzerFeverScoreDeltaButtons: '搶答（Fever）分數按鈕',
        buzzerUltimateScoreDeltaButtons: '搶答（Ultimate Fever）分數按鈕',
        saveParticipants: '儲存參賽者',
        deleteRoundTemplateConfirm: '確定刪除此回合模板？',
        deleteGroupConfirm: '確定刪除此組別？該組回合將改為未分組。',
        roundCreatedSuccessfully: '回合建立成功。',
        deleteRoundConfirm: '確定刪除回合「{name}」？',
        deleteAdvancementRuleConfirm: '確定刪除此晉級規則？',
        unknownGroup: '未知組別',
        unknownRound: '未知回合',
        eliminate: '淘汰',
        advanceTo: '晉級到',
        successful: '成功',
        autoAdvanced: '自動晉級',
        bonusApplied: '已套用加成',
        blockedManualLock: '已阻擋（手動鎖定）',
        blockedRoundState: '已阻擋（回合狀態）',
        bonusIndicatorApplied: '已套用加成 {bonus}',
        bonusIndicatorAppliedWithScore: '已套用加成 {bonus}（起始分數 {score}）',
        bonusIndicatorBlocked: '加成 {bonus} 未套用（{status}）',
        skipped: '已略過',
        eliminated: '已淘汰',
        markedStale: '已標記為過期',
        noTeam: '無隊伍',
        cuhkcasLogoPlaceholder: 'CUHKCAS 標誌預留位置',
        deleteAccount: '刪除帳戶',
        deleteAccountWarning: '刪除帳戶後，所有資源與資料將被永久刪除。',
        confirmDeleteAccount: '你確定要刪除帳戶嗎？',
        confirmDeleteAccountHelp: '請輸入密碼以確認永久刪除帳戶。',
        updatePassword: '更新密碼',
        updatePasswordHelp: '請使用長且隨機的密碼以提升安全性。',
        currentPassword: '目前密碼',
        newPassword: '新密碼',
        save: '儲存',
        saved: '已儲存。',
        profileInformation: '個人資料',
        profileInformationHelp: '更新你的帳戶個人資料與電郵地址。',
        emailUnverified: '你的電郵尚未驗證。',
        clickResendVerificationEmail: '按此重新寄送驗證電郵。',
        verificationLinkSentToEmail: '新的驗證連結已寄送到你的電郵地址。',
        scoreDeltaButtonsHelp: '分數按鈕設定：以逗號分隔，會顯示在控制頁此階段的加減分按鈕。',
        scoreDeltaButtonsExample: '例如',
        scoreDeltaButtonsExampleSuffix: '會建立 +30、+15、-15 按鈕。',
        exampleSingleDelta: '例如：20',
        exampleNormalDeltas: '例如：20,10,-10',
        exampleFeverDeltas: '例如：30,15,-15',
        exampleUltimateDeltas: '例如：40,20,-20',
        exampleGroupA: '例如：Group A',
        exampleGA: '例如：GA',
        examplePrelimGroupMatch: '例如：Prelim Group Match',
        examplePrelim3t: '例如：PRELIM_3T',
        examplePrelimA1: '例如：PrelimA1',
        examplePA1: '例如：PA1',
    },
};

export function useI18n() {
    const page = usePage();
    const locale = computed(() => page.props.locale || 'en');

    const t = (key, params = {}) => {
        const template = messages[locale.value]?.[key] || messages.en[key] || key;
        return Object.entries(params).reduce(
            (text, [paramKey, paramValue]) => text.replaceAll(`{${paramKey}}`, String(paramValue)),
            template,
        );
    };

    const switchLocale = (nextLocale) => {
        router.post(route('locale.update'), { locale: nextLocale }, { preserveScroll: true, preserveState: true });
    };

    return { locale, t, switchLocale };
}
